function requestAddRandom(e){if(e.indexOf("?")>=0){var t=e.split("?");e=t[0]+"?"+Math.random()+"&"+t[1]}else{e=e+"?"+Math.random()}return e}function getLocationArr(e){var t=/(\w+):\/\/([^\:|\/]+)(\:\d*)?(.*\/)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i;var i=e.match(t);return i}function getProjectName(e){var t=/(\w+):\/\/([^\:|\/]+)(\:\d*)?(.*\/)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i;var i=e.match(t);var n=i[4];return n}function returnOneUrlObj(e,t){var i=t.tabs;for(var n=0;n<i.length;n++){if(e==i[n].eName){return i[n]}}}function loadDic(e,t,i,n){var a="",r=getDic(e,i);if(n){a=""}else{a="<option value='' selected='selected'>请选择</option>"}for(var o in r){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}$("[name='"+t+"']").empty().append(a)}function cityDic(a,e,r,o){var t=$("."+e).eq(0);var l=$("."+e).eq(2);var s=$("."+e).eq(4);cityDicLoad(a,t,r+"1");o.render("select");o.on("select(applyBusiDist1)",function(e){s.empty();var t=e.value;$("#cityHidden").val(t);var i=e.text;t=t.substring(0,2);if(t==71||t==81||t==82){var n="<option value='"+t+"0000' title='"+i+"'>"+i+"</option>";$(this).nextAll().not(".star").empty().append(n)}else{cityDicLoad(a,l,r+"2",t)}o.render("select")});o.on("select(applyBusiDist2)",function(e){var t=e.value;if(t!=""){$("#cityHidden").val(t)}var i=e.text;t=t.substring(0,4);if(t==7100||t==8100||t==8200){var n="<option value='"+t+"00' title='"+i+"'>"+i+"</option>";$(this).nextAll().not(".star").empty().append(n)}else{cityDicLoad(a,s,r+"3",t)}o.render("select")});o.on("select(applyBusiDist3)",function(e){var t=e.value;if(t!=""){$("#cityHidden").val(t)}})}function investDic(n,e,a){var t=$("."+e).eq(0);var r=$("."+e).eq(1);var o=$("."+e).eq(2);var l=$("."+e).eq(3);investDicLoad(n,t,a+"1");t.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,r,a+"2",e)}});r.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,o,a+"3",e)}});o.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,l,a+"4",e)}})}function cityDicLoad(e,t,i,n){var a="<option value='' selected='selected'>请选择</option>";var r=getDic(e,i);for(var o in r){if(n!=undefined){if(n==o.substring(0,2)){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}else if(n==o.substring(0,4)){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}}else{a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}}t.empty().append(a)}function investDicLoad(e,t,i,n){var a="<option value='' selected='selected'>请选择</option>";var r=getDic(e,i);for(var o in r){if(n!=undefined){if(n==o.substring(0,1)){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}else if(n==o.substring(0,3)){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}else if(n.substring(1)==o.substring(0,3)){a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}}else{a+="<option value="+o+" title='"+r[o]+"'>"+r[o]+"</option>"}}t.empty().append(a)}function cityDicShow(a,r,e,o,t){if(t==(null||undefined)){return false}var i=$("select."+e);var n=i.eq(0);var l=i.eq(1);var s=i.eq(2);cityDicLoadShow(r,n,o+"1",t);cityDicLoadShow(r,l,o+"2",t);cityDicLoadShow(r,s,o+"3",t);a.on("select(applyBusiDist1)",function(e){s.empty();var t=e.value;$("#cityHidden").val(t);var i=e.text;t=t.substring(0,2);if(t==71||t==81||t==82){var n="<option value='"+t+"0000' title='"+i+"'>"+i+"</option>";$(this).nextAll().not(".star").empty().append(n)}else{cityDicLoad(r,l,o+"2",t)}a.render("select")});a.on("select(applyBusiDist2)",function(e){var t=e.value;if(t!=""){$("#cityHidden").val(t)}var i=e.text;t=t.substring(0,4);if(t==7100||t==8100||t==8200){var n="<option value='"+t+"00' title='"+i+"'>"+i+"</option>";$(this).nextAll().not(".star").empty().append(n)}else{cityDicLoad(r,s,o+"3",t)}a.render("select")});a.on("select(applyBusiDist3)",function(e){var t=e.value;if(t!=""){$("#cityHidden").val(t)}})}function investDicShow(n,e,a,t){var i=$("."+e).eq(0);var r=$("."+e).eq(1);var o=$("."+e).eq(2);var l=$("."+e).eq(3);investDicLoadShow(n,i,a+"1",t);investDicLoadShow(n,r,a+"2",t);investDicLoadShow(n,o,a+"3",t);investDicLoadShow(n,l,a+"4",t);if(t==(null||undefined||"")){investDic(n,e,a)}i.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,r,a+"2",e)}});r.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,o,a+"3",e)}});o.change(function(){var e=$(this).val();var t=$(this).find(":selected").text();if(e=="9"){var i="<option value='"+e+"' title='"+t+"'>"+t+"</option>";$(this).nextAll().not(".star").empty().append(i)}else{investDicLoad(n,l,a+"4",e)}})}function cityDicLoadShow(e,t,i,n){if(n==(null||undefined)){return false}var a="<option value='' selected='selected'>请选择</option>";var r=getDic(e,i);var o=t.attr("id");for(var l in r){if(o.indexOf("1")<0){if(n.substring(0,2)==l.substring(0,2)&&o.indexOf("2")>0){if(n.substring(0,4)==l.substring(0,4)){a+="<option value="+l+" title='"+r[l]+"' selected>"+r[l]+"</option>"}else{a+="<option value="+l+" title='"+r[l]+"'>"+r[l]+"</option>"}}else if(n.substring(0,4)==l.substring(0,4)){if(n==l){a+="<option value="+l+" title='"+r[l]+"' selected>"+r[l]+"</option>"}else{a+="<option value="+l+" title='"+r[l]+"'>"+r[l]+"</option>"}}}else{if(n.substring(0,2)==l.substring(0,2)){a+="<option value="+l+" title='"+r[l]+"' selected>"+r[l]+"</option>"}else{a+="<option value="+l+" title='"+r[l]+"'>"+r[l]+"</option>"}}}t.empty().append(a)}function investDicLoadShow(e,t,i,n){var a="<option value='' selected='selected'>请选择</option>";var r=getDic(e,i);var o=t.attr("id");if(n){var l=getCode1(n);for(var s in r){if(o.indexOf("1")<0){if(o.indexOf("2")>0){if(l+n.substring(0,2)==s&&s.substring(0,1)==l){a+="<option value="+s+" title='"+r[s]+"' selected>"+r[s]+"</option>"}else{a+="<option value="+s+" title='"+r[s]+"'>"+r[s]+"</option>"}}else if(o.indexOf("3")>0&&s.substring(0,1)==l){if(l+n.substring(0,3)==s){a+="<option value="+s+" title='"+r[s]+"' selected>"+r[s]+"</option>"}else{a+="<option value="+s+" title='"+r[s]+"'>"+r[s]+"</option>"}}else if(o.indexOf("4")>0&&s.substring(0,3)==n.substring(0,3)){if(n==s){a+="<option value="+s+" title='"+r[s]+"' selected>"+r[s]+"</option>"}else{a+="<option value="+s+" title='"+r[s]+"'>"+r[s]+"</option>"}}}else{if(l==s){a+="<option value="+s+" title='"+r[s]+"' selected>"+r[s]+"</option>"}else{a+="<option value="+s+" title='"+r[s]+"'>"+r[s]+"</option>"}}}}t.empty().append(a)}function getCode1(e){var t,i=getProjectName(location.href);ajaxFunc(i+"common/findByCode4",function(e){t=e.code1},function(e){layerMsg("请求出错！")},{code4:e});return t}function getDic(e,t,i){var n;if(!i){var i=getProjectName(location.href)}var a=window.sessionStorage;pName=i.split("/")[1];if(a&&a[pName+"_"+t]){var r=JSON.parse(a[pName+"_"+t]);return r}else{ajaxFunc(i+e,function(e){n=e;if(t!="deptCodeName")a[pName+"_"+t]=JSON.stringify(e)},function(){layerMsg("请求出错！")},{type:t},true);return n}}function linkedDic(e,t,i,n,a){var r=$("[name="+e+"]");if(r.find(":selected").val()!=""){var o=n+r.find(":selected").val();loadDic(t,i,o);for(var l in a){if(l==i){$("[name="+i+"]").find("[value='"+a[i]+"']").prop("selected",true)}}}r.change(function(){if(r.find(":selected").val()!=""){o=n+r.find(":selected").val();loadDic(t,i,o)}})}function filterDic(t,i,n,e){var a=$("[name="+t+"] option");a.each(function(){if(i!=false){if($(this).attr("value")==i){$(this).prop("selected",true)}}if(n!=undefined){for(var e=0;e<n.length;e++){if($(this).attr("value")==n[e]){$(this).addClass(t+"Filter")}}}});if(n!=undefined){if(!e){a.not("."+t+"Filter").remove()}else{$("[name="+t+"] ."+t+"Filter").remove()}}}function ajaxFunc(e,i,t,n,a){var r;if(!n){n=null}$.ajax({type:"post",url:requestAddRandom(e),data:n,dataType:"json",async:false,beforeSend:function(e){if(a!=true){layerLoading()}},success:function(e,t){r=strToJson(e);if(i!=undefined){i(r)}},complete:function(e,t){if(a!=true){layerCloseLoad()}},error:function(e){r=strToJson(e);if(t!=undefined){t(r)}}})}function ajaxFuncForJson(e,i,t,n,a){var r;if(!n){n=null}$.ajax({type:"post",url:requestAddRandom(e),contentType:"application/json",data:n,async:false,beforeSend:function(e){if(a!=true){layerLoading()}},success:function(e,t){r=strToJson(e);if(i!=undefined){i(r)}},complete:function(e,t){if(a!=true){layerCloseLoad()}},error:function(e){r=strToJson(e);if(t!=undefined){t(r)}}})}function strToJson(e){var t;if(typeof e=="string"){t=e==""?{}:$.parseJSON(e)}else{t=e}return t}function changeDatetoString(e){var t=new Date(e);var i=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return i}function fmtNumForShow(e,t){if(e!=null&&e!=undefined&&e!=""){if(typeof e!="number"){e=parseFloat(e)}if(t!=undefined){e=e.toFixed(t)}else{e=e.toFixed(2)}if(typeof e!="string"){e=e.toString()}if(e.indexOf(".")>-1){var i=e.split(".")[0].replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,");return i+"."+e.split(".")[1]}else{var n=e.split(".")[0].replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,");return n}}else{return e}}function fmtNumForSubmit(e){if(e!=null){if(typeof e!="string"){e=e.toString()}if(e.split(".")[1]=="00"){return e.split(".00")[0].replace(/,/g,"")}else{return e.replace(/,/g,"")}}}function submitPage(n,e){ajaxFunc(n,function(e){if(n.indexOf("systemOrg")>-1){var t=getProjectName(location.href);t=t.replace(/\//g,"");var i=window.sessionStorage;i.removeItem(t+"_orgTreeData")}submitMsg(e)},function(e){layerMsg("error:"+JSON.stringify(e));window.hasSubmit=false},e)}function submitMsg(t){if(t.code=="00000000"){layerAlert(t.msg,function(){var e=$("#iframeWrap",parent.document);if(e.hasClass("iframeTabs")){submitTabsMsg(t,e)}else{reloadParentPage()}})}else{layerMsg(t.msg);$(".modal-footer button").attr("disabled",false);window.hasSubmit=false}}function bindPageBtnEvent(){var e=$(".modal-footer button");var t=parent.listObj;var i=parent.urlObj;e.each(function(){var e=$(this).attr("id");if(e=="closePage"){$("#closePage").bind("click",function(){closeParentPage()})}else if(e=="fastSubmitPage"){$("#fastSubmitPage").bind("click",function(){fastSubmitPage(i)})}else if(e=="delectPage"){$("#delectPage").bind("click",function(){delectPage(t,i)})}else if(e=="resetPage"){$("#resetPage").bind("click",function(){resetPage()})}else if(e=="stopReason"){$("#stopReason").bind("click",function(){var e={id:$("[name='stopId']").val(),stopReason:$("[name='stopReason']").val()};stopSubmitFun(i.stopUser,e)})}else{return}})}function stopSubmitFun(e,t){var i;ajaxFunc(e,function(e){if(e.code=="00000000"){i="操作成功！"}else if(e.code=="00000001"){i="操作失败！"}layerAlert(i,reloadParentPage)},function(e){layerMsg("error:"+JSON.stringify(e))},t)}function setComAndBizObj(e){var t=$.parseJSON(e.comData);var i=$.parseJSON(e.bizData);if(i!=null){if(parent.comAndBiz.bizData==undefined){parent.comAndBiz.bizData=i}else{for(var n in i){parent.comAndBiz.bizData[n]=i[n]}}}if(parent.comAndBiz.comData==undefined){parent.comAndBiz.comData=t}}function getComAndBizObj(e){var t=parent.comAndBiz;if(!$.isEmptyObject(t)){if(e=="com"){return t.comData}else if(e=="biz"){return t.bizData}else if(e==null){return t}}else{return undefined}}function setReadonly(e,t){var i=$("#form-wrap").find("input,textarea,select"),n=[];i.each(function(){n.push($(this).attr("name"))});if(e==undefined){e=n}if(t){n=removeDuplicatedItem(n);for(var a=0;a<e.length;a++){n.removeByValue(e[a])}e=n}for(var a=0;a<e.length;a++){i=$("[name='"+e[a]+"']");if(!i.hasClass("disabled")){i.addClass("disabled").attr("placeholder","")}$("[name='"+e[a]+"']").attr("disabled","disabled")}}function removeReadonly(e){if(e==undefined){e=[];var t=$("table").find(".disabled");t.each(function(){e.push($(this).attr("name"))})}for(var i=0;i<e.length;i++){var t=$("[name='"+e[i]+"']");if(t.hasClass("disabled")){t.removeClass("disabled")}$("[name='"+e[i]+"']").attr("disabled",false)}}function resetPage(){$("#resetPage").attr("type","button");var e=$("#form-wrap,.modal-body").find("input,textarea,select").not(".noReset");e.each(function(){if($(this).prop("tagName")=="INPUT"||$(this).prop("tagName")=="TEXTAREA"){$(this).val("")}else if($(this).prop("tagName")=="SELECT"){$(this).get(0).selectedIndex=0}})}function fastSubmitPage(e){$("form").attr("action",e);$("form").submit()}function delectPage(e,t){layerConfirm("确认此项操作？",function(){delectCallback(e,t)})}function closeParentPage(){if($("form").attr("id")!="detail_form_id"){parent.location.reload()}else{var e="";if($(".iframeTabs",parent.document).length>0){parent.location.reload()}else{e="iframe";parent.layer.closeAll(e)}}}function isAllow(e,t){var i=$(".tabHead li",parent.document).not(".empty");if(t==undefined){i.removeClass("allow");if(e==undefined||e.length==0){i.addClass("allow")}else{for(var n=0;n<e.length;n++){i.eq(e[n]).addClass("allow")}}}else if(t==true){i.addClass("allow");for(var n=0;n<e.length;n++){i.eq(e[n]).removeClass("allow")}}i.eq(0).addClass("allow")}function getUrlList(e,r,o){var l,s=getProjectName(location.href);$.ajaxSetup({async:false});$.get(requestAddRandom(e),function(e,t){if(t=="success"){l=strToJson(e);var i=l.tabs;if(i!=undefined){for(var n=0;n<i.length;n++){for(var a in i[n]){if(a!="name"&&a!="eName"&&a!="icon"){if(r&&r.in_array(a)){i[n][a]=o+i[n][a]}else{i[n][a]=s+i[n][a]}}}}}else{for(var a in e){if(a!="name"&&a!="eName"){if(r&&r.in_array(a)){e[a]=o+e[a]}else{e[a]=s+e[a]}}}}}else{layerMsg("请求出错！")}});return l}function formVerify(t,i){layui.form.verify({valueLength:function(e,t){if(e.length>255){return"输入内容需小于255字节！"}}});layui.form.on("submit(searchBtn)",function(e){searchBtn(t,i);return false})}function bindBtnEvent(e,t){var i;$(".createBtn").bind("click",function(){i=createBtn(e,t);layerIndex=i});$(".updateBtn").bind("click",function(){i=updateBtn(e,t);layerIndex=i});$(".deleteBtn").bind("click",function(){i=deleteBtn(e,t);layerIndex=i});$(".searchBtn").bind("click",function(){i=searchBtn(e,t);layerIndex=i});$(".detailBtn").bind("click",function(){i=detailBtn(e,t);layerIndex=i});$(".exportBtn").bind("click",function(){i=exportBtn(e,t);layerIndex=i});$(".resetBtn").bind("click",function(){i=resetPage(e,t);layerIndex=i});if(layui&&layui.form){formVerify(e,t)}}function createBtn(e,n){var a=n.tabObj;if(!a||a.field==undefined){a={};a.field="id"}var t=getField(a,null);if(a&&a.tabs){var i={ele:".datail",name:n.name+"-新增页",state:0,tabs:a.tabs,urlList:a.listObj,fieldName:t.fieldName,fieldValue:t.fieldValue,data:"",showList:a.showList,custom:a.custom};index=createBox(i);return index}else{var r=n.creUrl;if(a&&a.linkBasic){layerPrompt("请输入客户号",function(e,t,i){r+="?"+a.field+"="+a.value;layerOpen(900,500,n.icon,n.name+"-新增页",r,2,function(){},true)})}else{layerOpen(900,500,n.icon,n.name+"-新增页",r,2,function(){},true)}}}function getField(e,a){var t,i,r;if(!e||e.field==undefined){e={};e.field="id"}else if(e&&e.field!=undefined){if(typeof e.field=="string"){t=e.field;if(a){i=a[e.field]}}else{r=[];var o=listObj.tabs;$.each(o,function(t){var i={eName:o[t].eName};var n=e.field;$.each(n,function(e){if(t==n[e].tabNum){i.fieldName=n[e].name;if(a){i.fieldValue=a[n[e].name]}return false}else{i.fieldName="id";if(a){i.fieldValue=a["id"]}}});r.push(i)});t=r}}return{fieldName:t,fieldValue:i}}function updateBtn(e,t){var i=t.tabObj;var n=e.table;var a=[],r=n.checkStatus("grid");var o=r.data;if(o.length==1){var l=getField(i,o[0]);if(i&&i.tabs){var s={ele:"body",name:t.name+"-修改页",state:1,tabs:i.tabs,urlList:i.listObj,fieldName:l.fieldName,fieldValue:l.fieldValue,pageName:t.pageName,showList:i.showList,custom:i.custom,authority:i.authority};var f=createBox(s)}else{if(!i||i.field==undefined){i={};i.field="id"}layerOpen(900,500,t.icon,t.name+"-修改页",t.updUrl+"?"+i.field+"="+o[0][i.field],2,function(){},true)}}else{layerMsg("请选择1条进行操作！")}}function detailBtn(e,t){var i=t.tabObj;var n=getField(i,e);if(i&&i.tabs){var a={ele:"body",name:t.name+"-详情页",state:2,tabs:i.tabs,urlList:i.listObj,fieldName:n.fieldName,fieldValue:n.fieldValue,pageName:t.pageName,showList:i.showList,custom:i.custom,authority:i.authority};var r=createBox(a)}else{if(!i||i.field==undefined){i={};i.field="id"}layerOpen(900,500,t.icon,t.name+"-详情页",t.detailUrl+"?"+i.field+"="+e[i.field],2,function(){},true)}}function deleteBtn(e,t){var i,n=t.tabObj;if(!n||n.field==undefined){n={};i="id"}else{if(n.field[0].tabNum==0){i=n.field[0].name}else{i="id"}}var a=e.table;var r=[],o=a.checkStatus("grid");var l=o.data;if(l.length>0){if(l.length==1){r=l[0][i]}else{for(var s=0;s<l.length;s++){r.push(l[s][i])}}layerConfirm("确认此项操作？",function(){deleteBtnCallback(e,r,t)})}else{layerMsg("请选择1条以上进行操作！")}}function searchBtn(e,t){var i=e.dataTable;var n=$("form").serializeJSON();var a=e.searchData;if(a){for(var r in a){if(n[r]!=""&&!n[r]){n[r]=a[r]}}}i.reload({where:n,page:{curr:1}})}function exportBtn(e,t){if(e.table.cache.grid.length>0){var i=$(".layui-laypage-count").text();var n=parseInt(i.substring(1,i.length-1));var a=e.table;var r=[],o=a.checkStatus("grid");var l=o.data;if(n>5e3&&l.length==0){layerMsg("暂不支持导出大于5000条的数据，请添加查询条件");return}for(var s=0;s<l.length;s++){r.push(l[s].id)}var f=$("form").serializeJSON();var c=e.searchData;if(c){for(var s in c){if(f[s]!=""&&!f[s]){f[s]=c[s]}}}f.ids=r+"";var d=paramObjToStr(f);window.location.href=t.exportUrl+"?"+d}else{layerMsg("无数据可导出")}}function onlyTheFirst(){var t=$("#noRpt option");t.each(function(e){if(t.eq(e).val()=="1"||t.eq(e).val()=="2"){$(this).remove()}})}function closePage(){window.location.reload()}function reloadGrid(e,t){e.reload({where:t,page:{curr:1}})}function removeDuplicatedItem(e){for(var t=0;t<e.length-1;t++){for(var i=t+1;i<e.length;i++){if(e[t]==e[i]){e.splice(i,1);i--}}}return e}Array.prototype.in_array=function(e){for(i=0;i<this.length;i++){if(this[i]==e)return true}return false};Array.prototype.removeByValue=function(e){for(var t=0;t<this.length;t++){if(this[t]==e){this.splice(t,1);break}}};function BigDecimalAdd(e,t,i){if(e==""){e="0"}if(t==""){t="0"}var n=new BigDecimal(e).add(new BigDecimal(t)).setScale(i,MathContext.ROUND_HALF_UP).toString();return n}function BigDecimalSubtract(e,t,i){if(e==""){e="0"}if(t==""){t="0"}var n=new BigDecimal(e).subtract(new BigDecimal(t)).setScale(i,MathContext.ROUND_HALF_UP).toString();return n}function paramObjToStr(i,n){var a="";if(i instanceof String||i instanceof Number||i instanceof Boolean){a+="&"+n+"="+encodeURIComponent(i)}else{$.each(i,function(e){var t=n==null?e:n+(i instanceof Array?"["+e+"]":"."+e);a+="&"+paramObjToStr(this,t)})}return a.substr(1)}function getParamObj(){var e=location.search;var t=new Object;if(e.indexOf("?")!=-1){var i=e.substr(1);strs=i.split("&");for(var n=0;n<strs.length;n++){t[strs[n].split("=")[0]]=decodeURIComponent(strs[n].split("=")[1])}}return t}function getAjaxData(e,t){var i,n="POST";if(!t){n="GET"}$.ajax({type:n,url:requestAddRandom(e),data:t,success:function(e){i=strToJson(e)},async:false});return i}function BrowserType(){var e=navigator.userAgent;var t=e.indexOf("Opera")>-1;var i=window.ActiveXObject||"ActiveXObject"in window;var n=e.indexOf("Edge")>-1;var a=e.indexOf("Firefox")>-1;var r=e.indexOf("Safari")>-1&&e.indexOf("Chrome")==-1;var o=e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1&&!n;if(i){var l=new RegExp("MSIE (\\d+\\.\\d+);");l.test(e);var s=parseFloat(RegExp["$1"]);if(e.indexOf("MSIE 6.0")!=-1){return"IE6"}else if(s==7){return"IE7"}else if(s==8){return"IE8"}else if(s==9){return"IE9"}else if(s==10){return"IE10"}else if(e.toLowerCase().match(/rv:([\d.]+)\) like gecko/)){return"IE11"}else{return"0"}}if(a){return"FF"}if(t){return"Opera"}if(r){return"Safari"}if(o){return"Chrome"}if(n){return"Edge"}}function isAcrobatPluginInstall(){if(window.ActiveXObject||navigator.userAgent.indexOf("Trident")>-1){for(x=2;x<10;x++){try{oAcro=eval("new ActiveXObject('PDF.PdfCtrl."+x+"');");if(oAcro){return true}}catch(e){}}try{oAcro4=new ActiveXObject("PDF.PdfCtrl.1");if(oAcro4)return true}catch(e){}try{oAcro7=new ActiveXObject("AcroPDF.PDF.1");if(oAcro7)return true}catch(e){}}else{return true}}function orgTree(){var e=[];if($(".orgTree").length>0){var e=["../static/script/zTree_v3/jquery.ztree.core.min.js","../static/script/zTree_v3/orgTree.js","../static/script/zTree_v3/style/static.css","../static/script/zTree_v3/style/zTreeStyle_01.css"];for(var t=0;t<e.length;t++){var i=e[t];if(i.match(/.*.js$/)){$("body").append('<script type="text/javascript" src="'+i+'"><\/script>')}else if(i.match(/.*.css$/)){loadCss(i)}}var n=getProjectName(location.href);var a=getAjaxData(n+"common/orgTree",{type:"orgTreeData"});orgTreeFun(a)}}function menuTree(){var e=[];if($(".menuTree").length>0){var e=["../static/script/zTree_v3/jquery.ztree.core.min.js","../static/script/zTree_v3/menuTree.js","../static/script/zTree_v3/style/static.css","../static/script/zTree_v3/style/zTreeStyle_01.css"];for(var t=0;t<e.length;t++){var i=e[t];if(i.match(/.*.js$/)){$("body").append('<script type="text/javascript" src="'+i+'"><\/script>')}else if(i.match(/.*.css$/)){loadCss(i)}}var n=getProjectName(location.href);var a=getAjaxData(n+"common/menuTree",{type:"menuTreeData"});menuTreeFun(a)}}function reloadGrid(e,t,i){if(!i){i=1}var n=e.dataTable;n.reload({where:t,page:{curr:i}})}